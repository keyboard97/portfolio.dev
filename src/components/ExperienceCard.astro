---
import type { Experience } from "../types/Exprience";
import Badge from "./Badge.astro";
import LinkIcon from "../assets/icons/arrow-up-right.svg";

const props = Astro.props as Experience;
---

<a
  href={props.link}
  target="_blank"
  class="md:grid flex flex-col gap-4 p-6 rounded-lg transition-all md:bg-transparent bg-hover-bg-color"
>
  <p class="text-xs mt-1 uppercase">{props.start_date} - {props.end_date}</p>
  <div class="flex flex-col gap-4">
    <div class="flex flex-col gap-2">
      <span class="flex gap-1">
        <p class="title md:text-text-color text-emphasis-text-color">
          {props.position} â€¢ {props.title}
        </p>
        <img src={LinkIcon.src} class="link-icon w-5 h-5 -z-10" alt="link icon" width="20px" height="20px" />
      </span>
      <p class="text-sm">{props.description}</p>
    </div>
    <div class="flex flex-wrap gap-1 badges">
      {props.badges.map((badge) => <Badge text={badge} />)}
    </div>
  </div>
</a>

<style scoped>
  a {
    grid-template-columns: 130px auto;
    transition: all 600ms;
    .link-icon {
      transition: all 100ms;
      filter: invert(100%) sepia(0%) saturate(0%) hue-rotate(191deg)
        brightness(100%) contrast(101%);
    }

    &:hover {
      @apply bg-hover-bg-color;
      .title {
        @apply text-emphasis-text-color;
      }
      .link-icon {
        filter: invert(88%) sepia(29%) saturate(748%) hue-rotate(103deg)
          brightness(93%) contrast(97%);
        transform: translate(5px, -5px);
        transition: all 100ms;
      }
    }
  }

  @media screen and (max-width: 768px) {
    a {
      .link-icon {
        transition: all 100ms;
        filter: invert(88%) sepia(29%) saturate(748%) hue-rotate(103deg)
          brightness(93%) contrast(97%);
      }
    }
  }
</style>
